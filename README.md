# 课消平台

## 项目简介
基于 Flask + SQLite 的课消管理平台，支持学生、课程、课消记录、排课管理、统计报表等，具备三权分立权限体系（admin/manager/user），并支持详细操作日志审计和现代化页面体验。

## 主要功能
- 学生、用户、课消记录管理
- 多学生同时消课（支持一节课多个学生消课）
- 排课管理（支持多学生、时间冲突检测、点名消课）
- 点名消课（弹窗补充主题/备注/课时，二次确认，消课后排课状态变更）
- 统计报表（总数、课程/老师/学生统计、消课率等）
- 权限分级与细化（admin/manager/user，操作范围严格区分）
- 操作日志增强（排课、消课、编辑、删除等均有详细日志）
- 页面美化与交互优化（斑马线表格、按钮状态、弹窗体验、移动端适配等）
- 排课管理入口已集成到首页导航栏和主要功能区，admin/manager可随时访问。

## 权限体系
- **admin**：超级管理员，管理所有用户、学生、课消记录、排课，查看所有操作日志，拥有全部权限
- **manager**：管理者，仅能管理 user、学生、课消记录、自己排的课，仅能编辑/消课自己排的课，不能删除排课，不能操作 admin/manager
- **user**：普通用户，仅能查看与自己相关的数据

## 移动端适配与横屏优化
- **横屏体验**：所有页面已适配移动端横屏，竖屏时自动弹出遮罩提示
- **横屏下字体、按钮、表格自适应**，内容显示更舒适
- **表格横向滚动**，数据多时也能流畅浏览

## 部署与开发
1. 克隆项目
   ```bash
   git clone <your-repo-url>
   cd <project-folder>
   ```
2. 安装依赖
   ```bash
   pip install -r requirements.txt
   ```
3. 初始化数据库
   ```bash
   python init_db.py
   ```
4. 启动服务
   ```bash
   python app.py
   # 或 flask run
   ```
5. 浏览器访问
   - 本地：`http://127.0.0.1:5000`
   - 云端：部署平台分配的地址

## 常见问题
- **推送失败**：请检查网络、VPN、代理设置，或先 pull 再 push
- **数据库初始化/重置**：运行 `init_db.py` 或相关脚本
- **移动端显示异常**：请刷新浏览器缓存，或切换横屏

## 贡献与协作
- 推荐使用 GitHub 协作开发，推送前请先 `git pull` 保持同步
- 如遇冲突，手动解决后再 push

---
如有更多问题或建议，欢迎 issue 或联系开发者。
